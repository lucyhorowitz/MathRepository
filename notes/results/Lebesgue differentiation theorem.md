## Theorem[^1][^2]
For all $f\in$ [[Lp space|L]]$_1(\mathbb R^n)$ (where $\mathbb R^n$ is equipped with the [[Lebesgue measure]] $\mu$), we have that for [[Lebesgue measure|Lebesgue]]-[[almost everywhere|almost every]] $x \in \mathbb R^n$, $$\lim_{r\to 0}\frac{1}{\mu(B(x,r))}\int_{B(x,r)} f(t)\text dt = f(x).$$

## Proof
We wish to show that for all $\varepsilon > 0$, the set $$S_\varepsilon = \left\{x\in \mathbb R^n \mid \left| \left(\lim_{r\to0}\frac{1}{\mu(B(x,r))}\int_{B(x,r)}f(t)\text dt\right)-f(x)\right|>\varepsilon\right\}$$ is of [[measure space|measure]] zero. Fix $\varepsilon > 0$ and let $\delta >0$ be as in the condition for [[absolute continuity of the Lebesgue integral]] so that whenever $C\subset \mathbb R^n$ with $\mu(C) < \delta$, we have $\int_C |f|\text d\mu < \varepsilon^2$. By [[Lusin's theorem]], there exists a set $A$ such that $f_{|A}$ is [[continuous]] and $\mu(\mathbb R^n\setminus A) < \delta$.  Let $$g(x) = \begin{cases} f(x) & x\in A \\ 0 &\text{otherwise.}\end{cases}$$ Because $f_{|A}$ is [[continuous]], we have that for all $x \in A$ $$\lim_{r\to 0} \frac{1}{\mu(B(x,r))}\int_{A\cap B(x,r)}g\text d\mu = g(x) = f(x)$$ and for every point $x \in A$ whose [[measure density|density]] $d(A,x) = 1$, that $$\lim_{r\to0} \frac{\mu(A\cap B(x,r))}{\mu(B(x,r))} = 1.$$ Dividing the expressions yields $$\lim_{r\to0}\frac{1}{\mu(B(x,r))}\int_{B(x,r)}g\text d\mu = \lim_{r\to0} \frac{1}{\mu(B(x,r))}\int_{A\cap B(x,r)}g\text d\mu = f(x)$$ for [[almost everywhere|almost every]] $x\in A$. Now let $$h(x) = \begin{cases} f(x) & x\notin A \\ 0 &\text{otherwise.}\end{cases}$$ From the [[absolute continuity of the Lebesgue integral]], we have $$||h||_1 = \int_{\mathbb R^n\setminus A} |f|\text d\mu < \varepsilon^2.$$ Then from the weak $(1,1)$ estimate [[properties of Hardy-Littlewood maximal operator|for the Hardy-Littlewood maximal operator]] for $t=\varepsilon$, we have $$\mu(\{x\in\mathbb R^n \mid Mh(x) > \varepsilon\}) < \frac{c||h||_1}{\varepsilon} < c\varepsilon$$ where $M$ is the [[Hardy-Littlewood maximal operator]]. If the equality obtained from dividing two expressions holds for $x \in A$ and $x \notin \{y\in \mathbb R^n \mid Mh(y) > \varepsilon\}$, then we have $$\begin{align*}\lim_{r\to0}\left|\frac{\int_{B(x,r)}f \text d\mu}{\mu(B(x,r))}-f(x)\right| &= \lim_{r\to0} \left|\frac{\int_{B(x,r)}g \text d\mu}{\mu(B(x,r))}+ \frac{\int_{B(x,r)}h \text d\mu}{\mu(B(x,r))} -f(x)\right|\\ &\leq \lim_{r\to0} \left|\frac{\int_{B(x,r)}g \text d\mu}{\mu(B(x,r))}-f(x)\right| + \lim_{r\to 0}\frac{\int_{B(x,r)}|h| \text d\mu}{\mu(B(x,r))}\\ &\leq \varepsilon.\end{align*}$$ That is, in order for $x$ to be in $S_\varepsilon$, it must be that either the equality obtained from dividing two expressions does not hold for $x$ or that $x \in \{y \in \mathbb R^n \mid Mh(y) > \varepsilon\}$, and consequently $\mu(S_\varepsilon) < c\varepsilon$. Fix $\varepsilon_0 > 0$. By definition, we have for $\varepsilon < \varepsilon_0$ the relation $S_{\varepsilon_0} \subset S_{\varepsilon}$, so that $0\leq \mu(S_{\varepsilon_0})< \mu(S_\varepsilon)$ by the [[monotonicity of measure]]. Thus sending $\varepsilon \to 0$ shows that $\mu(S_{\varepsilon_0})=0$, as desired.

[^1]: This is a generalization of the [[Fundamental Theorem of Calculus]].
[^2]: This is also true of any finite [[Borel Ïƒ-algebra|Borel]] [[measure space|measure]]. A proof of this fact is not given here. #write_proof  maybe?